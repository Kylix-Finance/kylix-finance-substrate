<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="! # The Lending pallet of Kylix ! ! ## Overview ! ! The Lending pallet is responsible for managing the lending pools and the treasury operations. ! ! The lending pallet adopts a protocol similar to Compound V2 for its lending operations, ! offering a pool-based approach to aggregate assets from all users. ! ! Interest rates adjust dynamically in response to the supply and demand conditions. ! Additionally, for every lending positions a new token is minted, thus enabling the transfer of ! ownership. ! ! Implemented Extrinsics: ! ! 0. create_lending_pool() ! 1. activate_lending_pool() ! 2. supply() ! 3. withdraw() ! 4. borrow() ! 5. repay() ! 6. claim_rewards() ! 7. deactivate_lending_pool() ! 8. update_pool_rate_model() ! 9. update_pool_kink() !"><title>ProvideInherent in lending - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-5ca6ca2a1f83705a.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lending" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (cefe1dcef 2024-07-22)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../lending/index.html">lending</a><span class="version">4.0.0-dev</span></h2></div><h2 class="location"><a href="#">ProvideInherent</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Call">Call</a></li><li><a href="#associatedtype.Error">Error</a></li></ul><h3><a href="#required-associated-consts">Required Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.INHERENT_IDENTIFIER">INHERENT_IDENTIFIER</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.create_inherent">create_inherent</a></li><li><a href="#tymethod.is_inherent">is_inherent</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.check_inherent">check_inherent</a></li><li><a href="#method.is_inherent_required">is_inherent_required</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In crate lending</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">lending</a>::<wbr><a class="trait" href="#">ProvideInherent</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ProvideInherent {
    type <a href="#associatedtype.Call" class="associatedtype">Call</a>;
    type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="trait.Encode.html" title="trait lending::Encode">Encode</a> + IsFatalError;

    const <a href="#associatedconstant.INHERENT_IDENTIFIER" class="constant">INHERENT_IDENTIFIER</a>: [<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">8</a>];

    // Required methods
    fn <a href="#tymethod.create_inherent" class="fn">create_inherent</a>(data: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_inherent" class="fn">is_inherent</a>(call: &amp;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;

    // Provided methods
    fn <a href="#method.is_inherent_required" class="fn">is_inherent_required</a>(
        _: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt;, Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.check_inherent" class="fn">check_inherent</a>(
        _: &amp;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>,
        _: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>! # The Lending pallet of Kylix
!
! ## Overview
!
! The Lending pallet is responsible for managing the lending pools and the treasury
operations. !
! The lending pallet adopts a protocol similar to Compound V2 for its lending operations,
! offering a pool-based approach to aggregate assets from all users.
!
! Interest rates adjust dynamically in response to the supply and demand conditions.
! Additionally, for every lending positions a new token is minted, thus enabling the
transfer of ! ownership.
!
! Implemented Extrinsics:
!
! 0. create_lending_pool()
! 1. activate_lending_pool()
! 2. supply()
! 3. withdraw()
! 4. borrow()
! 5. repay()
! 6. claim_rewards()
! 7. deactivate_lending_pool()
! 8. update_pool_rate_model()
! 9. update_pool_kink()
!</p>
<p>TODO:</p>
<ol>
<li>rename the pallet to <code>lending</code> and the module to <code>lending</code></li>
<li>implement the <code>ManagerOrigin</code> type for reserve pool special operations</li>
<li>implement tests for the lending logic</li>
<li>implement the <code>WeightInfo</code> trait for the pallet</li>
</ol>
<p>! Use case
A pallet that provides or verifies an inherent extrinsic will implement this trait.</p>
<p>The pallet may provide an inherent, verify an inherent, or both provide and verify.</p>
<p>Briefly, inherent extrinsics (“inherents”) are extrinsics that are added to a block by the block
producer. See [<code>sp_inherents</code>] for more documentation on inherents.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Call" class="method"><h4 class="code-header">type <a href="#associatedtype.Call" class="associatedtype">Call</a></h4></section></summary><div class="docblock"><p>The call type of the pallet.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Error" class="method"><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="trait.Encode.html" title="trait lending::Encode">Encode</a> + IsFatalError</h4></section></summary><div class="docblock"><p>The error returned by <code>check_inherent</code>.</p>
</div></details></div><h2 id="required-associated-consts" class="section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedconstant.INHERENT_IDENTIFIER" class="method"><h4 class="code-header">const <a href="#associatedconstant.INHERENT_IDENTIFIER" class="constant">INHERENT_IDENTIFIER</a>: [<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">8</a>]</h4></section></summary><div class="docblock"><p>The inherent identifier used by this inherent.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.create_inherent" class="method"><h4 class="code-header">fn <a href="#tymethod.create_inherent" class="fn">create_inherent</a>(data: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>&gt;</h4></section></summary><div class="docblock"><p>Create an inherent out of the given <code>InherentData</code>.</p>
<p>NOTE: All checks necessary to ensure that the inherent is correct and that can be done in
the runtime should happen in the returned <code>Call</code>.
E.g. if this provides the timestamp, the call will check that the given timestamp is
increasing the old timestamp by more than a minimum and it will also check that the
timestamp hasn’t already been set in the current block.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_inherent" class="method"><h4 class="code-header">fn <a href="#tymethod.is_inherent" class="fn">is_inherent</a>(call: &amp;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Return whether the call is an inherent call.</p>
<p>NOTE: Signed extrinsics are not inherents, but a signed extrinsic with the given call
variant can be dispatched.</p>
<h5 id="warning"><a class="doc-anchor" href="#warning">§</a>Warning</h5>
<p>In FRAME, inherents are enforced to be executed before other extrinsics. For this reason,
pallets with unsigned transactions <strong>must ensure</strong> that no unsigned transaction call
is an inherent call, when implementing <code>ValidateUnsigned::validate_unsigned</code>.
Otherwise block producers can produce invalid blocks by including them after non inherents.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.is_inherent_required" class="method"><h4 class="code-header">fn <a href="#method.is_inherent_required" class="fn">is_inherent_required</a>(
    _: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt;, Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Determines whether this inherent is required in this block.</p>
<ul>
<li>
<p><code>Ok(None)</code> indicates that this inherent is not required in this block. The default
implementation returns this.</p>
</li>
<li>
<p><code>Ok(Some(e))</code> indicates that this inherent is required in this block. <code>construct_runtime!</code>
will call this function in its implementation of <code>fn check_extrinsics</code>.
If the inherent is not present, it will return <code>e</code>.</p>
</li>
<li>
<p><code>Err(_)</code> indicates that this function failed and further operations should be aborted.</p>
</li>
</ul>
<p>NOTE: If the inherent is required then the runtime asserts that the block contains at least
one inherent for which:</p>
<ul>
<li>type is <a href="trait.ProvideInherent.html#associatedtype.Call" title="associated type frame_support::inherent::ProvideInherent::Call::Call"><code>Self::Call</code></a>,</li>
<li><a href="trait.ProvideInherent.html#tymethod.is_inherent" title="associated function frame_support::inherent::ProvideInherent::is_inherent::is_inherent"><code>Self::is_inherent</code></a> returns true.</li>
</ul>
<p>NOTE: This is currently only checked by block producers, not all full nodes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.check_inherent" class="method"><h4 class="code-header">fn <a href="#method.check_inherent" class="fn">check_inherent</a>(_: &amp;Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Call" title="type lending::ProvideInherent::Call">Call</a>, _: &amp;<a class="struct" href="struct.InherentData.html" title="struct lending::InherentData">InherentData</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ProvideInherent.html#associatedtype.Error" title="type lending::ProvideInherent::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Check whether the given inherent is valid. Checking the inherent is optional and can be
omitted by using the default implementation.</p>
<p>When checking an inherent, the first parameter represents the inherent that is actually
included in the block by its author. Whereas the second parameter represents the inherent
data that the verifying node calculates.</p>
<p>This is intended to allow for checks that cannot be done within the runtime such as, e.g.,
the timestamp.</p>
<h5 id="warning-1"><a class="doc-anchor" href="#warning-1">§</a>Warning</h5>
<p>This check is not guaranteed to be run by all full nodes and cannot be relied upon for
ensuring that the block is correct.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/frame_support/inherent/trait.ProvideInherent.js" async></script></section></div></main></body></html>